$Base().extend(["Move","resizeCenter","center","getByClass"],[elementMove,resizeCenter,center,getByClass]);function elementMove(c){activeEs=c.length>0?c:[c];for(var b=0;b<this.element.length;b++){for(var a=0;a<activeEs.length;a++){clickMove(this.element[b],activeEs[a])}}return this}function clickMove(a,c){if(!c){c=a}addEvent(c,"mousedown",b);function b(i){var f=i.clientY-a.offsetTop;var g=i.clientX-a.offsetLeft;function h(){removeEvent(document,"mousemove",d);removeEvent(document,"mouseup",h);if(typeof a.releaseCapture!="undefined"){a.releaseCapture()}}function d(l){var k=l.clientY-f;var j=l.clientX-g;if(j<0){j=0}else{if(j>viewInner().width-a.offsetWidth){j=viewInner().width-a.offsetWidth}}if(k<0){k=0}else{if(k>viewInner().height-a.offsetHeight){k=viewInner().height-a.offsetHeight}}a.style.left=j+"px";a.style.top=k+"px";if(typeof a.setCapture!="undefined"){a.setCapture()}}addEvent(document,"mousemove",d);addEvent(document,"mouseup",h)}}function center(){for(var a=0;a<this.element.length;a++){centerF(this.element[a])}return this}function resizeCenter(c){for(var b=0;b<this.element.length;b++){var a=this.element[b];addEvent(window,"resize",function(){if(a.offsetWidth+a.offsetLeft>viewInner().width||a.offsetHeight+a.offsetTop>viewInner().height){centerF(a)}if(c){c()}})}return this}function getCenter(c){var b=c.offsetHeight==0?parseInt(getStyle(c,"height")):c.offsetHeight;var a=c.offsetWidth==0?parseInt(getStyle(c,"width")):c.offsetWidth;c.style.top=((viewInner().height-b)/2<0?0:(viewInner().height-b)/2)+getScroll().top+"px";c.style.left=((viewInner().width-a)/2<0?0:(viewInner().width-a)/2)+getScroll().left+"px"}function centerF(c){var b=c.offsetHeight==0?parseInt(getStyle(c,"height")):c.offsetHeight;var a=c.offsetWidth==0?parseInt(getStyle(c,"width")):c.offsetWidth;var e=(viewInner().height-b)/2<0?0:(viewInner().height-b)/2;var d=(viewInner().width-a)/2<0?0:(viewInner().width-a)/2;c.style.top=e+"px";c.style.left=d+"px"}function getByClass(g,k){var l=g.split(new RegExp("\\s+"));var a=[(k?k:document)];var h,c;for(var e=0;e<l.length;e++){c=[];switch(l[e].charAt(0)){case"#":for(var b=0;b<a.length;b++){if(c[0]){break}h=a[b].getElementsByTagName("*");for(var d=0;d<h.length;d++){if(h[d].id==l[e].slice(1)){c.push(h[d]);break}}}a=c;break;case".":for(var b=0;b<a.length;b++){h=a[b].getElementsByTagName("*");for(var d=0;d<h.length;d++){if(h[d].className==l[e].slice(1)){c.push(h[d])}}}a=c;break;default:for(var b=0;b<a.length;b++){var f=a[b].getElementsByTagName(l[e]);for(var d=0;d<f.length;d++){c.push(f[d])}}a=c;break}}this.element=a;return this}function minSize(c,d,b,a,e){addEvent(window,"resize",function(f){var g=c=="body"?$Base().getTagName("body"):$Base(c);if(d){if(viewInner().width<d){g.css({width:d+"px"})}else{g.css({width:a?a:"100%"})}}if(b){if(viewInner().hidth<b){g.css({height:b+"px"})}else{g.css({height:e?e:"100%"})}}})};